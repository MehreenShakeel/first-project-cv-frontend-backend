<!DOCTYPE html>
<html>
  <head>
    <title>Resume Form</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <style>
    * {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
  }
  
  body {
    background-color: #f7f7f7;
  }
  
  h1 {
    text-align: center;
    padding: 20px;
    color: #007bff;
  }
  
  h2 {
    margin-top: 20px;
    color: #007bff;
  }
  
  form {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius: 10px;
    background-color: #ffffff;
  }
  
  label {
    font-weight: bold;
  }
  
  input[type="text"],
  input[type="email"],
  input[type="date"],
  input[type="file"] {
    width: 97%;
    padding: 10px;
    margin: 5px 0;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 14px;
  }
  
  button {
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 5px;
    padding: 10px 20px;
    cursor: pointer;
  }
  
  button:hover {
    background-color: #0056b3;
  }
  
  /* Styling for degrees, experiences, and skills section */
  #degrees,
  #experiences,
  #skills {
    border-top: 1px solid #ccc;
    padding-top: 15px;
    margin-top: 20px;
  }
  
  .degree,
  .experience,
  .skill {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
  }
  
  .degree label,
  .experience label{
    width: 100%;
    display: inline-block;
    /* margin-bottom: 12px; */
  }
  .skill label {
    width: 10%;
  }
  
  .degree input[type="text"],
  .degree input[type="date"],
  .experience input[type="text"],
  .experience input[type="date"]{
    width: 80%;
    /* margin-left: ; */
    margin-bottom: 23px;
    /* margin-right: 23px; */
  }
  .skill input[type="text"] {
    width: 95%;
  }
  
  /* Custom styling for the "Add Degree," "Add Experience," and "Add Skill" buttons */
  button[type="button"] {
    background-color: #f7f7f7;
    color: #007bff;
    border: 1px solid #007bff;
    margin-top: 10px;
  }
  
  button[type="button"]:hover {
    background-color: #007bff;
    color: #fff;
  }
  
  /* Additional styling for the submit button */
  input[type="submit"] {
    display: block;
    margin: 20px auto 0;
    background-color: #f7f7f7;
    color: #007bff;
    border: 1px solid #007bff;
    margin-top: 10px;
    width: 95%;
    height: 40px;
    border-radius: 45px;

  }
    
  input[type="submit"]:hover {
    background-color: #007bff;
    color: #fff;
  }
  
  </style>
  <body>
    <h1>Resume Form</h1>

    <form id="resumeForm" enctype="multipart/form-data">
      <h2>Personal Information</h2>
      <label for="name">Name:</label>
      <input type="text" id="name" required /><br /><br />

      <label for="email">Email:</label>
      <input type="email" id="email" required /><br /><br />

      <label for="address">Address:</label>
      <input type="text" id="address" required /><br /><br />

      <label for="phoneNumber">Phone Number:</label>
      <input type="text" id="phoneNumber" required /><br /><br />

      <label for="dob">Date of birth:</label>
      <input type="date" id="dob" required /><br /><br />

      <label for="cnic">CNIC:</label>
      <input type="text" id="cnic" required /><br /><br />


      <label for="profileImage">Profile Image:</label>
      <input type="file" id="profileImage" accept="image/*" required /><br /><br />

      <h2>Degrees</h2>
      <div id="degrees">
        <div class="degree">
          <div>
          <label for="degree0">Degree:</label>
          <input type="text" id="degree0" required />

          <label for="university0">University:</label>
          <input type="text" id="university0" required />
          </div>

          <div>
          <label for="year0">Year:</label>
          <input type="text" id="year0" required />

          <label for="gpa0">GPA/Percentage:</label>
          <input type="text" id="gpa0" required />
          </div>
        </div>
      </div>
      <button type="button" onclick="addDegree()">Add Degree</button
      ><br /><br />

      <h2>Experiences</h2>
      <div id="experiences">
        <div class="experience">
          <div>
            <label for="company0">Company:</label>
          <input type="text" id="company0" required />
          <label for="position0">Position:</label>
          <input type="text" id="position0" required />
          </div>
          <div>
            <label for="joining0">Joining:</label>
          <input type="date" id="joining0" required />
          <label for="resign0">Resignation:</label>
          <input type="date" id="resign0" required />
          </div>
        </div>
      </div>
      <button type="button" onclick="addExperience()">Add Experience</button
      ><br /><br />

      <h2>Skills</h2>
      <div id="skills">
        <div class="skill">
          <label for="skill0">Skill:</label>
          <input type="text" id="skill0" required />
        </div>
      </div>
      <button type="button" onclick="addSkill()">Add Skill</button><br /><br />

      <input type="submit" value="Submit" />
    </form>

    <script>
      var degreeCount = 0;
      var experienceCount = 0;
      var skillCount = 0;

      function addDegree() {
        degreeCount++;
        var degreesContainer = document.getElementById("degrees");
        var newDegree = document.createElement("div");
        newDegree.className = "degree";
        newDegree.innerHTML = `
        <div>
        <label for="degree${degreeCount}">Degree:</label>
        <input type="text" id="degree${degreeCount}" required>
        <label for="university${degreeCount}">University:</label>
        <input type="text" id="university${degreeCount}" required>
        </div>
        <div>
          <label for="year${degreeCount}">Year:</label>
        <input type="text" id="year${degreeCount}" required>
        <label for="gpa${degreeCount}">GPA/Percentege:</label>
        <input type="text" id="gpa${degreeCount}" required>
        </div>
      `;
        degreesContainer.appendChild(newDegree);
      }

      function addExperience() {
        experienceCount++;
        var experiencesContainer = document.getElementById("experiences");
        var newExperience = document.createElement("div");
        newExperience.className = "experience";
        newExperience.innerHTML = `
       <div>
        <label for="company${experienceCount}">Company:</label>
        <input type="text" id="company${experienceCount}" required>
        <label for="position${experienceCount}">Position:</label>
        <input type="text" id="position${experienceCount}" required>
        </div>
        <div>
        <label for="joining${experienceCount}">Joining:</label>
        <input type="date" id="joining${experienceCount}" required>
        <label for="resign${experienceCount}">Resignation:</label>
        <input type="date" id="resign${experienceCount}" required>
        </div>
      `;
        experiencesContainer.appendChild(newExperience);
      }

      function addSkill() {
        skillCount++;
        var skillsContainer = document.getElementById("skills");
        var newSkill = document.createElement("div");
        newSkill.className = "skill";
        newSkill.innerHTML = `
        <label for="skill${skillCount}">Skill:</label>
        <input type="text" id="skill${skillCount}" required>
      `;
        skillsContainer.appendChild(newSkill);
      }

      $("#resumeForm").submit(function (event) {
        event.preventDefault();

        // Collect form data
        var formData = new FormData();
        formData.append("name", $("#name").val());
        formData.append("email", $("#email").val());
        formData.append("address", $("#address").val());
        formData.append("dob", $("#dob").val());
        formData.append("phoneno", $("#phoneNumber").val());
        formData.append("cnic", $("#cnic").val());
        formData.append("profileImage", $("#profileImage")[0].files[0]);

        // Add degrees data
        for (var i = 0; i <= degreeCount; i++) {
          formData.append(`degrees[${i}][degree]`, $(`#degree${i}`).val());
          formData.append(
            `degrees[${i}][university]`,
            $(`#university${i}`).val()
          );
          formData.append(
            `degrees[${i}][year]`,
            $(`#year${i}`).val()
          );
          formData.append(
            `degrees[${i}][gpa]`,
            $(`#gpa${i}`).val()
          );
        }
       
        // Add experiences data
        for (var i = 0; i <= experienceCount; i++) {
          formData.append(
            `experiences[${i}][company]`,
            $(`#company${i}`).val()
          );
          formData.append(
            `experiences[${i}][position]`,
            $(`#position${i}`).val()
          );
          formData.append(
            `experiences[${i}][joining]`,
            $(`#joining${i}`).val()
          );
          formData.append(
            `experiences[${i}][resign]`,
            $(`#resign${i}`).val()
          );
        }
        console.log("dsfdsfdsfdf");
console.log( `experiences[${0}][position]`,
            $(`#position${0}`).val());
        // Add skills data
        for (var i = 0; i <= skillCount; i++) {
          formData.append(`skills[${i}]`, $(`#skill${i}`).val());
        }
console.log(formData);
        // Send form data to the server using Node.js
        $.ajax({
          type: "POST",
          url: "/submit",
          data: formData,
          processData: false,
          contentType: false,
          success: function (response) {
            alert("Resume submitted successfully!");
            window.location.href="/table";
            // Handle response from the server if needed
          },
          error: function () {
            alert("Error submitting the resume.");
          },
        });
      });
    </script>
  </body>
</html>
  









    <!-- <h1>User Information</h1>
    <form id="userForm">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>
        <label for="address">Address:</label>
        <input type="text" id="address" name="address" required>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
        <button type="submit">Submit</button>
    </form>
    <div id="message"></div>
    <script>
        $(document).ready(function() {
        $('#userForm').submit(function(event) {
          event.preventDefault();
      
          const formData = {
            name: $('#name').val(),
            address: $('#address').val(),
            email: $('#email').val()
          };
      
          $.ajax({
            type: 'POST',
            url: '/submit',
            data: formData,
            dataType: 'json',
            success: function(response) {
              $('#message').text(response.message);
              $('#userForm')[0].reset();
            },
            error: function(error) {
              $('#message').text('Error: ' + error.responseJSON.error);
            }
          });
        });
      });
      
    </script>   
     -->
